# 🌐 汎用検索エンジンの作成手順

## 🎯 目標
制限なしの汎用Custom Search Engineを作成し、あらゆるジャンルのスケジュール情報を収集可能にする。

## 📋 作成手順

### Step 1: 新しい検索エンジンを作成

1. **Google Programmable Search Engine**にアクセス
   ```
   https://programmablesearchengine.google.com/controlpanel/all
   ```

2. **「新しい検索エンジンを追加」をクリック**

### Step 2: 汎用設定

**基本情報:**
- **検索エンジン名**: `Universal Schedule Search Engine`
- **説明**: `あらゆるジャンルのスケジュール情報を収集する汎用検索エンジン`

**検索対象の設定:**
- ✅ **「ウェブ全体を検索」を選択**
- ❌ 特定サイトの制限は設定しない

### Step 3: 検索設定

**言語・地域設定:**
- 言語: 日本語
- 国/地域: 日本
- 安全検索: 中程度

**検索機能:**
- ✅ 画像検索: 有効
- ✅ 検索候補: 有効
- ✅ 音声検索: 無効（不要）

### Step 4: 高度な設定

**検索品質向上:**
- ✅ 関連性の高い結果を優先
- ✅ 最新情報を優先
- ✅ 日本語コンテンツを優先

### Step 5: 検索エンジンIDの取得

1. **作成完了後**、検索エンジンをクリック
2. **「概要」タブ > 「基本」セクション**
3. **検索エンジンID**をコピー

### Step 6: 環境変数の更新

**`.env`ファイルを編集:**
```bash
# 汎用検索エンジンIDに置き換え
GOOGLE_SEARCH_ENGINE_ID=新しい汎用検索エンジンID
```

## 🧪 テスト方法

### 手動テスト
新しい検索エンジンのテストページで以下をテスト：
```
BLACKPINK コンサート 2025
あいみょん ライブ 2025
King Gnu ツアー
宝塚 公演 スケジュール
```

### 自動テスト
```bash
# 汎用検索のテスト
python scripts/test-universal-search.py

# 基本検索のテスト  
python scripts/test-search-engine.py
```

## 🎯 期待される結果

### 検索結果の多様性
- ✅ 公式サイトからの情報
- ✅ ニュースメディアの記事
- ✅ チケットサイトの情報
- ✅ 様々なジャンルに対応

### AI判定による品質管理
- ✅ 信頼性スコアによるフィルタリング
- ✅ ジャンル適合性の判定
- ✅ 重複情報の除去

## ⚠️ 注意事項

### コスト管理
- 1日100クエリまで無料
- 超過分は$5/1000クエリ
- 使用量の定期モニタリング

### 品質管理
- AI判定の精度確認
- 低品質結果のフィルタリング
- 定期的な結果品質チェック

## 🚀 次のステップ

汎用検索エンジン作成後：
1. **多ジャンルテスト実行**
2. **AI判定精度の検証**
3. **信頼性閾値の調整**
4. **本番環境への適用**

---

**⚠️ この設定は手動で行う必要があります。**
**設定完了後、新しい検索エンジンIDをお知らせください。**